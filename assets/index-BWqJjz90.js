import{I as v,j as e,R as T,a as le,b as ce,c as ie,d as oe,e as de,f as xe}from"./index-DRr5pGCD.js";import{r as n,l as ue,T as N,B as y,P as ge,m as P,i as J,j as me,n as ae,E as he,f as fe,e as be,g as je,o as U,p as Q,q as G}from"./antd-ZHbk-s-w.js";import{E as pe}from"./echarts-Ciy02nJd.js";import"./vendor-Bzgz95E1.js";import"./router-CZaN6CeF.js";var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function F(){return F=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},F.apply(this,arguments)}const ve=(t,s)=>n.createElement(v,F({},t,{ref:s,icon:ye})),we=n.forwardRef(ve);function H(){return H=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},H.apply(this,arguments)}const Ne=(t,s)=>n.createElement(v,H({},t,{ref:s,icon:ue})),ke=n.forwardRef(Ne);var Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832.6 191.4c-84.6-84.6-221.5-84.6-306 0l-96.9 96.9 51 51 96.9-96.9c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204l-96.9 96.9 51.1 51.1 96.9-96.9c84.4-84.6 84.4-221.5-.1-306.1zM446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l96.9-96.9-51.1-51.1-96.9 96.9c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l96.9-96.9-51-51-96.8 97zM260.3 209.4a8.03 8.03 0 00-11.3 0L209.4 249a8.03 8.03 0 000 11.3l554.4 554.4c3.1 3.1 8.2 3.1 11.3 0l39.6-39.6c3.1-3.1 3.1-8.2 0-11.3L260.3 209.4z"}}]},name:"disconnect",theme:"outlined"};function B(){return B=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},B.apply(this,arguments)}const $e=(t,s)=>n.createElement(v,B({},t,{ref:s,icon:Ce})),Oe=n.forwardRef($e);var Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};function _(){return _=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},_.apply(this,arguments)}const Ie=(t,s)=>n.createElement(v,_({},t,{ref:s,icon:Re})),$=n.forwardRef(Ie);var De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855 160.1l-189.2 23.5c-6.6.8-9.3 8.8-4.7 13.5l54.7 54.7-153.5 153.5a8.03 8.03 0 000 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l153.6-153.6 54.7 54.7a7.94 7.94 0 0013.5-4.7L863.9 169a7.9 7.9 0 00-8.9-8.9zM416.6 562.3a8.03 8.03 0 00-11.3 0L251.8 715.9l-54.7-54.7a7.94 7.94 0 00-13.5 4.7L160.1 855c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 153.6-153.6c3.1-3.1 3.1-8.2 0-11.3l-45.2-45z"}}]},name:"expand-alt",theme:"outlined"};function W(){return W=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},W.apply(this,arguments)}const Me=(t,s)=>n.createElement(v,W({},t,{ref:s,icon:De})),Ee=n.forwardRef(Me);var Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};function V(){return V=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},V.apply(this,arguments)}const ze=(t,s)=>n.createElement(v,V({},t,{ref:s,icon:Se})),z=n.forwardRef(ze);var Te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 328a60 60 0 10120 0 60 60 0 10-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 10120 0 60 60 0 10-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"robot",theme:"outlined"};function K(){return K=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},K.apply(this,arguments)}const Ae=(t,s)=>n.createElement(v,K({},t,{ref:s,icon:Te})),X=n.forwardRef(Ae);var Pe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};function Y(){return Y=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Y.apply(this,arguments)}const Le=(t,s)=>n.createElement(v,Y({},t,{ref:s,icon:Pe})),ee=n.forwardRef(Le);var Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M723 620.5C666.8 571.6 593.4 542 513 542s-153.8 29.6-210.1 78.6a8.1 8.1 0 00-.8 11.2l36 42.9c2.9 3.4 8 3.8 11.4.9C393.1 637.2 450.3 614 513 614s119.9 23.2 163.5 61.5c3.4 2.9 8.5 2.5 11.4-.9l36-42.9c2.8-3.3 2.4-8.3-.9-11.2zm117.4-140.1C751.7 406.5 637.6 362 513 362s-238.7 44.5-327.5 118.4a8.05 8.05 0 00-1 11.3l36 42.9c2.8 3.4 7.9 3.8 11.2 1C308 472.2 406.1 434 513 434s205 38.2 281.2 101.6c3.4 2.8 8.4 2.4 11.2-1l36-42.9c2.8-3.4 2.4-8.5-1-11.3zm116.7-139C835.7 241.8 680.3 182 511 182c-168.2 0-322.6 59-443.7 157.4a8 8 0 00-1.1 11.4l36 42.9c2.8 3.3 7.8 3.8 11.1 1.1C222 306.7 360.3 254 511 254c151.8 0 291 53.5 400 142.7 3.4 2.8 8.4 2.3 11.2-1.1l36-42.9c2.9-3.4 2.4-8.5-1.1-11.3zM448 778a64 64 0 10128 0 64 64 0 10-128 0z"}}]},name:"wifi",theme:"outlined"};function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Z.apply(this,arguments)}const Fe=(t,s)=>n.createElement(v,Z({},t,{ref:s,icon:Ue})),He=n.forwardRef(Fe),{Text:R,Paragraph:Be}=N,_e=({prediction:t,fundName:s,className:r="",onActionClick:a})=>{const[d,x]=n.useState(!1),c=()=>{switch(t.suggestion){case"buy":return{color:"success",bgColor:"bg-success-50 dark:bg-success-900/20",textColor:"text-success-700 dark:text-success-300",icon:e.jsx(z,{}),label:"‰π∞ÂÖ•",description:"Âª∫ËÆÆÂ¢ûÂä†ÊåÅ‰ªì"};case"sell":return{color:"error",bgColor:"bg-danger-50 dark:bg-danger-900/20",textColor:"text-danger-700 dark:text-danger-300",icon:e.jsx(z,{}),label:"ÂçñÂá∫",description:"Âª∫ËÆÆÂáèÂ∞ëÊåÅ‰ªì"};default:return{color:"default",bgColor:"bg-gray-50 dark:bg-gray-800",textColor:"text-gray-700 dark:text-gray-300",icon:e.jsx(z,{}),label:"ÊåÅÊúâ",description:"Âª∫ËÆÆÁª¥ÊåÅÁé∞Áä∂"}}},g=l=>l>=.8?"success":l>=.6?"warning":"error",i=()=>{switch(t.direction){case"up":return e.jsx(P,{color:"green",children:"ÁúãÊ∂®"});case"down":return e.jsx(P,{color:"red",children:"ÁúãË∑å"});default:return e.jsx(P,{color:"default",children:"‰∏≠ÊÄß"})}},m=c(),o=Math.round(t.confidence*100);return e.jsx("div",{className:`p-4 ${m.bgColor} rounded-xl border border-opacity-20 hover:shadow-md transition-all duration-200 ${r}`,children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${t.suggestion==="buy"?"bg-green-100 dark:bg-green-900/30":t.suggestion==="sell"?"bg-red-100 dark:bg-red-900/30":"bg-gray-100 dark:bg-gray-800"}`,children:e.jsx("span",{className:m.textColor,children:m.icon})}),e.jsxs("div",{children:[e.jsx(R,{className:`font-semibold ${m.textColor} text-base`,children:s}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:t.fundCode})]})]}),e.jsx(y,{type:"text",size:"small",icon:e.jsx(Ee,{}),onClick:()=>x(!d),className:"hover:bg-white/50 dark:hover:bg-gray-700/50"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.suggestion==="buy"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":t.suggestion==="sell"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:m.label}),i()]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"ÁΩÆ‰ø°Â∫¶"}),e.jsxs(R,{className:`text-lg font-bold ${m.textColor}`,children:[o,"%"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(ge,{percent:o,size:"small",status:g(t.confidence),showInfo:!1,strokeWidth:6,trailColor:"rgba(0,0,0,0.06)"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[e.jsx("span",{children:"È£éÈô©ËØÑ‰º∞"}),e.jsx("span",{children:o>=80?"‰ΩéÈ£éÈô©":o>=60?"‰∏≠È£éÈô©":"È´òÈ£éÈô©"})]})]}),d&&e.jsxs("div",{className:"space-y-3 pt-2 border-t border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-sm text-gray-600 dark:text-gray-400",children:"È¢ÑÊµãÊñπÂêëÔºö"}),i()]}),e.jsxs("div",{children:[e.jsx(R,{className:"text-sm text-gray-600 dark:text-gray-400",children:"ÂàÜÊûêÂéüÂõ†Ôºö"}),e.jsx(Be,{className:"text-sm mt-1 mb-0",children:t.reason})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["ÊúâÊïàÊúüËá≥: ",new Date(t.validUntil).toLocaleDateString("zh-CN")]}),e.jsxs("span",{children:["Âü∫Èáë‰ª£Á†Å: ",t.fundCode]})]}),a&&e.jsxs("div",{className:"flex space-x-2 pt-2",children:[e.jsx(y,{size:"small",type:t.suggestion==="buy"?"primary":"default",onClick:()=>a("buy"),disabled:t.confidence<.6,children:"‰π∞ÂÖ•"}),e.jsx(y,{size:"small",type:t.suggestion==="sell"?"primary":"default",onClick:()=>a("sell"),disabled:t.confidence<.6,children:"ÂçñÂá∫"}),e.jsx(y,{size:"small",type:t.suggestion==="hold"?"primary":"default",onClick:()=>a("hold"),children:"ÊåÅÊúâ"})]})]})]})})},{Text:I,Paragraph:D}=N,ne=({error:t,onRetry:s,showDetails:r=!1,className:a="",size:d="default"})=>{const c=typeof t=="string"?{code:"UNKNOWN_ERROR",message:t,details:null,timestamp:new Date}:t instanceof Error?{code:"CLIENT_ERROR",message:t.message,details:t.stack,timestamp:new Date}:t,i=(()=>{switch(c.code){case"NETWORK_ERROR":return{icon:e.jsx(He,{}),status:"warning",title:"ÁΩëÁªúËøûÊé•Â§±Ë¥•",description:"ËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•ÂêéÈáçËØï"};case"401":return{icon:e.jsx($,{}),status:"error",title:"ËÆ§ËØÅÂ§±Ë¥•",description:"ËØ∑ÈáçÊñ∞ÁôªÂΩï"};case"403":return{icon:e.jsx(ee,{}),status:"warning",title:"ËÆøÈóÆË¢´ÊãíÁªù",description:"ÊÇ®Ê≤°ÊúâÊùÉÈôêËÆøÈóÆÊ≠§ËµÑÊ∫ê"};case"404":return{icon:e.jsx($,{}),status:"info",title:"ËµÑÊ∫ê‰∏çÂ≠òÂú®",description:"ËØ∑Ê±ÇÁöÑËµÑÊ∫êÊú™ÊâæÂà∞"};case"429":return{icon:e.jsx(ee,{}),status:"warning",title:"ËØ∑Ê±ÇËøá‰∫éÈ¢ëÁπÅ",description:"ËØ∑Á®çÂêéÂÜçËØï"};case"500":return{icon:e.jsx($,{}),status:"error",title:"ÊúçÂä°Âô®ÈîôËØØ",description:"ÊúçÂä°Âô®ÈÅáÂà∞ÈóÆÈ¢òÔºåËØ∑Á®çÂêéÂÜçËØï"};default:return{icon:e.jsx($,{}),status:"error",title:"Êìç‰ΩúÂ§±Ë¥•",description:c.message||"ÂèëÁîüÊú™Áü•ÈîôËØØ"}}})();return d==="small"?e.jsx(J,{message:i.title,description:c.message,type:i.status,showIcon:!0,className:a,action:s&&e.jsx(y,{size:"small",onClick:s,icon:e.jsx(T,{}),children:"ÈáçËØï"})}):e.jsx("div",{className:`flex items-center justify-center p-8 ${a}`,children:e.jsx(me,{status:i.status,title:i.title,subTitle:i.description,extra:[s&&e.jsx(y,{type:"primary",onClick:s,icon:e.jsx(T,{}),children:"ÈáçËØï"},"retry"),e.jsx(y,{onClick:()=>window.history.back(),children:"ËøîÂõû"},"back")].filter(Boolean),children:r&&c.details&&e.jsx("div",{className:"mt-4",children:e.jsx(J,{message:"ÈîôËØØËØ¶ÊÉÖ",description:e.jsxs("div",{children:[e.jsxs(D,{children:[e.jsx(I,{strong:!0,children:"ÈîôËØØ‰ª£Á†Å:"})," ",c.code]}),e.jsxs(D,{children:[e.jsx(I,{strong:!0,children:"Êó∂Èó¥:"})," ",c.timestamp.toLocaleString()]}),typeof c.details=="string"?e.jsx(D,{children:e.jsx(I,{code:!0,children:c.details})}):e.jsx(D,{children:e.jsx(I,{code:!0,children:JSON.stringify(c.details,null,2)})})]}),type:"info",showIcon:!0,className:"text-left"})})})})},{Title:We,Text:M}=N,Ve=({predictions:t,loading:s=!1,error:r,onRefresh:a,onActionClick:d,className:x=""})=>{const c=(i,m)=>{d?.(i,m)},g=()=>r?e.jsx(ne,{error:r,onRetry:a,size:"small"}):s?e.jsx("div",{className:"space-y-4",children:[1,2,3].map(i=>e.jsx(ae,{active:!0,paragraph:{rows:2}},i))}):!t||t.length===0?e.jsx(he,{image:e.jsx(X,{style:{fontSize:48,color:"#d9d9d9"}}),description:e.jsxs("div",{children:[e.jsx(M,{className:"text-gray-500",children:"ÊöÇÊó†AIÊé®Ëçê"}),e.jsx("br",{}),e.jsx(M,{className:"text-xs text-gray-400",children:"Á≥ªÁªüÊ≠£Âú®ÂàÜÊûêÂ∏ÇÂú∫Êï∞ÊçÆÔºåËØ∑Á®çÂêéÊü•Áúã"})]})}):e.jsx("div",{className:"space-y-4",children:t.map(i=>e.jsx(_e,{prediction:i,fundName:i.fundName,onActionClick:m=>c(i.fundCode,m)},i.fundCode))});return e.jsxs("div",{className:`${x}`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl flex items-center justify-center",children:e.jsx(X,{className:"text-white text-lg"})}),e.jsxs("div",{children:[e.jsx(We,{level:4,className:"mb-0 text-gray-900 dark:text-gray-100",children:"AIÊô∫ËÉΩÂª∫ËÆÆ"}),e.jsx(M,{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Âü∫‰∫éÂ§ßÊï∞ÊçÆÂàÜÊûêÁöÑÊäïËµÑÂª∫ËÆÆ"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[t.length>0&&e.jsxs(M,{className:"text-xs text-gray-400 bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded-full",children:[t.length," Êù°Âª∫ËÆÆ"]}),e.jsx(y,{type:"text",size:"small",icon:e.jsx(T,{}),onClick:a,loading:s,className:"hover:bg-gray-100 dark:hover:bg-gray-700"})]})]})}),e.jsx("div",{className:"p-6",children:g()})]})},{Text:E}=N,Ke=({lastUpdate:t,nextUpdate:s,isUpdating:r=!1,isMarketHours:a=!0,maxStaleTime:d=10,className:x=""})=>{const g=Math.floor((new Date().getTime()-t.getTime())/1e3/60),i=g>d,m=()=>r?{status:"processing",icon:e.jsx(ke,{spin:!0}),color:"blue",text:"Êõ¥Êñ∞‰∏≠...",description:"Ê≠£Âú®Ëé∑ÂèñÊúÄÊñ∞Êï∞ÊçÆ"}:a?i?{status:"error",icon:e.jsx($,{}),color:"red",text:"Êï∞ÊçÆËøáÊúü",description:`Êï∞ÊçÆÂ∑≤ËøáÊúü ${g} ÂàÜÈíüÔºåËØ∑Ê£ÄÊü•ÁΩëÁªúËøûÊé•`}:{status:"success",icon:e.jsx(we,{}),color:"green",text:"Êï∞ÊçÆÊ≠£Â∏∏",description:`Êï∞ÊçÆÊõ¥Êñ∞‰∫é ${g} ÂàÜÈíüÂâç`}:{status:"default",icon:e.jsx(Oe,{}),color:"gray",text:"‰ºëÂ∏Ç‰∏≠",description:"ÂΩìÂâç‰∏∫Èùû‰∫§ÊòìÊó∂Èó¥ÔºåÊï∞ÊçÆÊöÇÂÅúÊõ¥Êñ∞"},o=u=>u.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),l=u=>{if(u<1)return"ÂàöÂàö";if(u<60)return`${u} ÂàÜÈíüÂâç`;const f=Math.floor(u/60),w=u%60;return w>0?`${f} Â∞èÊó∂ ${w} ÂàÜÈíüÂâç`:`${f} Â∞èÊó∂Ââç`},b=m(),h=e.jsxs("div",{children:[e.jsx("div",{children:b.description}),e.jsx("div",{className:"mt-1",children:e.jsxs(E,{className:"text-xs",children:["‰∏äÊ¨°Êõ¥Êñ∞: ",o(t)]})}),s&&e.jsx("div",{children:e.jsxs(E,{className:"text-xs",children:["‰∏ãÊ¨°Êõ¥Êñ∞: ",o(s)]})})]});return e.jsx("div",{className:x,children:e.jsx(fe,{title:h,children:e.jsxs(be,{size:"small",children:[e.jsx(je,{status:b.status,text:e.jsx(E,{className:"text-sm",children:b.text})}),e.jsx(E,{className:"text-xs text-gray-400",children:l(g)})]})})})},{Title:Ye,Text:te}=N,{Option:Ze}=U,qe=[{label:"1Â§©",value:"1D"},{label:"1Âë®",value:"1W"},{label:"1Êúà",value:"1M"},{label:"3Êúà",value:"3M"},{label:"6Êúà",value:"6M"},{label:"1Âπ¥",value:"1Y"},{label:"ÂÖ®ÈÉ®",value:"ALL"}],S=["#2D6DF6","#13C2C2","#FF4D4F","#722ED1","#FA8C16","#52C41A","#1890FF","#EB2F96"],Je=({funds:t,selectedFunds:s,fundData:r,timeRange:a,loading:d=!1,onFundSelectionChange:x,onTimeRangeChange:c,className:g=""})=>{const i=n.useMemo(()=>{const o=s.map((l,b)=>{const h=t.find(f=>f.code===l),u=r[l]||[];return{name:h?.name||l,type:"line",data:u.map(f=>[new Date(f.date).getTime(),f.value]),smooth:!0,symbol:"none",lineStyle:{width:2,color:S[b%S.length]},itemStyle:{color:S[b%S.length]}}});return{title:{text:"Âü∫ÈáëËµ∞ÂäøÂØπÊØî",left:"left",textStyle:{fontSize:16,fontWeight:"bold"}},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},formatter:l=>{if(!Array.isArray(l))return"";let h=`<div><strong>${new Date(l[0].value[0]).toLocaleDateString("zh-CN")}</strong></div>`;return l.forEach(u=>{const f=u.value[1].toFixed(4);h+=`<div style="color: ${u.color}">
              ${u.seriesName}: ${f}
            </div>`}),h}},legend:{data:s.map(l=>t.find(h=>h.code===l)?.name||l),top:30,type:"scroll"},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0},xAxis:{type:"time",axisLine:{lineStyle:{color:"#d9d9d9"}},axisLabel:{formatter:l=>new Date(l).toLocaleDateString("zh-CN",{month:"short",day:"numeric"})}},yAxis:{type:"value",axisLine:{lineStyle:{color:"#d9d9d9"}},splitLine:{lineStyle:{color:"#f0f0f0",type:"dashed"}},axisLabel:{formatter:l=>l.toFixed(4)}},series:o,dataZoom:[{type:"inside",start:0,end:100},{start:0,end:100,height:30,bottom:10}]}},[s,t,r]),m=t.map(o=>({label:`${o.name} (${o.code})`,value:o.code}));return e.jsxs("div",{className:`${g}`,children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Ye,{level:4,className:"mb-0 text-gray-900 dark:text-gray-100",children:"Âü∫ÈáëËµ∞ÂäøÂØπÊØî"}),e.jsx(te,{className:"text-gray-500 dark:text-gray-400",children:"Â§öÂü∫ÈáëÂáÄÂÄºËµ∞ÂäøÂØπÊØîÂàÜÊûê"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"text-sm text-gray-500 whitespace-nowrap",children:"Êó∂Èó¥ËåÉÂõ¥:"}),e.jsx(U,{value:a,onChange:c,size:"middle",style:{width:100},className:"shadow-sm",children:qe.map(o=>e.jsx(Ze,{value:o.value,children:o.label},o.value))})]}),e.jsx(U,{mode:"multiple",placeholder:"ÈÄâÊã©Âü∫ÈáëËøõË°åÂØπÊØî",value:s,onChange:x,style:{minWidth:240},maxTagCount:2,options:m,className:"shadow-sm"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{style:{height:450},children:e.jsx(pe,{option:i,style:{height:"100%",width:"100%"},showLoading:d,loadingOption:{text:"Âä†ËΩΩ‰∏≠...",color:"#2D6DF6",textColor:"#666",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0}})})})]})},{Text:se}=N,Qe=({index:t,onClick:s,className:r=""})=>{const a=()=>{switch(t.trend){case"up":return e.jsx(ce,{className:"text-success-500"});case"down":return e.jsx(le,{className:"text-danger-500"});default:return e.jsx(z,{className:"text-gray-400"})}},d=c=>`${c>=0?"+":""}${c.toFixed(2)}`,x=c=>`${c>=0?"+":""}${c.toFixed(2)}%`;return e.jsx("div",{className:`cursor-pointer transition-all duration-300 hover:scale-105 ${r}`,onClick:s,children:e.jsx("div",{className:"bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-2xl p-4 border border-white/30 dark:border-gray-700/30 shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(se,{className:"text-base font-bold text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("div",{className:"text-base",children:a()})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xl font-bold text-gray-900 dark:text-gray-100",children:t.value.toLocaleString("zh-CN",{minimumFractionDigits:2,maximumFractionDigits:2})}),e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${t.trend==="up"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":t.trend==="down"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}`,children:[e.jsx("span",{className:"mr-1",children:d(t.change)}),e.jsx("span",{children:x(t.changePercent)})]})]}),e.jsx(se,{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:t.code})]})})})},Ge=({indices:t,loading:s=!1,error:r,onIndexClick:a,onRetry:d})=>r?e.jsx(ne,{error:r,onRetry:d,size:"small"}):s?e.jsx(Q,{gutter:[16,16],children:[1,2,3,4].map(x=>e.jsx(G,{xs:24,sm:12,lg:6,children:e.jsx(ae.Button,{active:!0,style:{width:"100%",height:"120px"},shape:"round"})},x))}):e.jsx(Q,{gutter:[24,24],children:t.map(x=>e.jsx(G,{xs:24,sm:12,lg:6,children:e.jsx(Qe,{index:x,onClick:()=>a?.(x)})},x.code))});function Xe(t,s=[],r={}){const{immediate:a=!0,onSuccess:d,onError:x}=r,[c,g]=n.useState({data:null,loading:!1,error:null}),i=n.useRef(!0),m=n.useRef(0);n.useEffect(()=>()=>{i.current=!1},[]);const o=n.useCallback(async()=>{const b=++m.current;g(h=>({...h,loading:!0,error:null}));try{const h=await t();i.current&&b===m.current&&(g({data:h,loading:!1,error:null}),d?.(h))}catch(h){if(i.current&&b===m.current){const u=h;g(f=>({...f,loading:!1,error:u})),x?.(u)}}},s);n.useEffect(()=>{a&&o()},[o,a]);const l=n.useCallback(()=>{g({data:null,loading:!1,error:null})},[]);return{...c,execute:o,reset:l}}const L={start:9,end:15,days:[1,2,3,4,5]};function et(t={}){const{interval:s=300*1e3,enabled:r=!0,onUpdate:a,marketHoursOnly:d=!0}=t,[x,c]=n.useState(new Date),[g,i]=n.useState(!1),[m,o]=n.useState(null),l=n.useRef(null),b=n.useRef(r),h=n.useCallback(()=>{if(!d)return!0;const j=new Date,C=j.getHours(),A=j.getDay();return L.days.includes(A)&&C>=L.start&&C<L.end},[d]),u=n.useCallback(()=>{const j=new Date;return new Date(j.getTime()+s)},[s]),f=n.useCallback(async()=>{i(!0),c(new Date);try{await a?.()}catch(j){console.error("Error during data refresh:",j)}finally{i(!1),o(u())}},[a,u]),w=n.useCallback(()=>{l.current&&clearInterval(l.current);const j=()=>{b.current&&h()?f():o(u())};r&&h()?f():o(u()),l.current=setInterval(j,s)},[r,f,h,s,u]),k=n.useCallback(()=>{l.current&&(clearInterval(l.current),l.current=null),o(null)},[]);return n.useEffect(()=>{b.current=r},[r]),n.useEffect(()=>(r?w():k(),()=>{k()}),[r,w,k]),n.useEffect(()=>()=>{l.current&&clearInterval(l.current)},[]),{lastUpdate:x,nextUpdate:m,isUpdating:g,isMarketHours:h(),refresh:f,startAutoRefresh:w,stopAutoRefresh:k}}const{Title:tt,Text:st}=N,rt=[{name:"Ê≤™Ê∑±300",code:"CSI300",value:3456.78,change:42.56,changePercent:1.25,trend:"up"},{name:"Âàõ‰∏öÊùø",code:"SZSE",value:2234.56,change:-10.23,changePercent:-.45,trend:"down"},{name:"ÊÅíÁîüÊåáÊï∞",code:"HSI",value:18234.56,change:141.23,changePercent:.78,trend:"up"},{name:"Á∫≥ÊñØËææÂÖã",code:"NASDAQ",value:14567.89,change:306.45,changePercent:2.15,trend:"up"}],re=[{code:"001938",name:"ÊòìÊñπËææÊ∂àË¥πÁ≤æÈÄâ",type:"mixed",currentValue:2.1234,dailyChange:.0123,dailyChangePercent:.58,lastUpdate:new Date},{code:"320007",name:"ÂçéÂ§èÁßëÊäÄÊàêÈïø",type:"stock",currentValue:1.8765,dailyChange:-.0087,dailyChangePercent:-.46,lastUpdate:new Date},{code:"161725",name:"ÊãõÂïÜ‰∏≠ËØÅÁôΩÈÖí",type:"index",currentValue:.9876,dailyChange:.0034,dailyChangePercent:.35,lastUpdate:new Date}],at=(t,s=30)=>{const r=[],a=Math.random()*2+1;for(let d=s;d>=0;d--){const x=new Date;x.setDate(x.getDate()-d);const c=(Math.random()-.5)*.1,g=a+Math.sin(d*.1)*.2+c;r.push({date:x,value:Math.max(.1,g),volume:Math.floor(Math.random()*1e6)})}return r},nt=[{fundCode:"001938",fundName:"ÊòìÊñπËææÊ∂àË¥πÁ≤æÈÄâ",direction:"up",confidence:.85,suggestion:"buy",reason:"AIÈ¢ÑÊµã‰∏äÊ∂®Ê¶ÇÁéá85%ÔºåRSIÊåáÊ†áÊòæÁ§∫Ë∂ÖÂçñÁä∂ÊÄÅÔºåÊäÄÊúØÈù¢ÊîØÊíëÂº∫Âä≤ÔºåÂª∫ËÆÆÈÄÇÈáèÂä†‰ªì„ÄÇ",validUntil:new Date(Date.now()+1440*60*1e3)},{fundCode:"320007",fundName:"ÂçéÂ§èÁßëÊäÄÊàêÈïø",direction:"down",confidence:.72,suggestion:"sell",reason:"Â∏ÇÂú∫ÊÉÖÁª™ÂÅèÂº±ÔºåÁßëÊäÄÊùøÂùóÈù¢‰∏¥Ë∞ÉÊï¥ÂéãÂäõÔºåMACDÊåáÊ†áÊòæÁ§∫‰∏ãË°åË∂ãÂäøÔºåÂª∫ËÆÆÂáè‰ªìËßÇÊúõ„ÄÇ",validUntil:new Date(Date.now()+1440*60*1e3)},{fundCode:"161725",fundName:"ÊãõÂïÜ‰∏≠ËØÅÁôΩÈÖí",direction:"neutral",confidence:.68,suggestion:"hold",reason:"ÁôΩÈÖíÊùøÂùóÈúáËç°Êï¥ÁêÜÔºåÂü∫Êú¨Èù¢Á®≥ÂÅ•‰ΩÜÁº∫‰πèÂÇ¨ÂåñÂâÇÔºåÂª∫ËÆÆÁª¥ÊåÅÁé∞Êúâ‰ªì‰ΩçÁ≠âÂæÖÊú∫‰ºö„ÄÇ",validUntil:new Date(Date.now()+1440*60*1e3)}],xt=()=>{const[t,s]=n.useState(["001938","320007"]),[r,a]=n.useState("1M"),[d,x]=n.useState({}),[c,g]=n.useState(!0),i=async()=>(await new Promise(p=>setTimeout(p,1e3)),rt.map(p=>({...p,value:p.value+(Math.random()-.5)*10,change:(Math.random()-.5)*50,changePercent:(Math.random()-.5)*3,trend:Math.random()>.5?"up":Math.random()>.3?"down":"neutral"})));n.useEffect(()=>{const p=r==="1D"?1:r==="1W"?7:r==="1M"?30:r==="3M"?90:r==="6M"?180:r==="1Y"?365:30,O={};re.forEach(q=>{O[q.code]=at(q.code,p)}),x(O)},[r]);const{data:m,loading:o,error:l,execute:b}=Xe(i,[],{immediate:!0}),{lastUpdate:h,nextUpdate:u,isUpdating:f,isMarketHours:w,refresh:k}=et({interval:300*1e3,enabled:c,onUpdate:b,marketHoursOnly:!0}),j=()=>{k()},C=p=>{console.log("Clicked index:",p)},A=(p,O)=>{console.log(`AI Action: ${O} for fund ${p}`)};return e.jsxs("div",{className:"px-6 py-6 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-3xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100 text-sm",children:"ÊÄªËµÑ‰∫ß"}),e.jsx("p",{className:"text-2xl font-bold",children:"¬•128,456"}),e.jsx("p",{className:"text-blue-200 text-xs",children:"+2.34%"})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:"üí∞"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-3xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100 text-sm",children:"‰ªäÊó•Êî∂Áõä"}),e.jsx("p",{className:"text-2xl font-bold",children:"+¬•2,345"}),e.jsx("p",{className:"text-green-200 text-xs",children:"+1.87%"})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:"üìà"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-3xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-purple-100 text-sm",children:"ÊåÅ‰ªìÂü∫Èáë"}),e.jsx("p",{className:"text-2xl font-bold",children:"12"}),e.jsx("p",{className:"text-purple-200 text-xs",children:"Ê¥ªË∑É"})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:"üéØ"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-3xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100 text-sm",children:"AI‰ø°Âè∑"}),e.jsx("p",{className:"text-2xl font-bold",children:"5"}),e.jsx("p",{className:"text-orange-200 text-xs",children:"ÂæÖÂ§ÑÁêÜ"})]}),e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center",children:"ü§ñ"})]})})]}),e.jsxs("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/20 dark:border-gray-700/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx(tt,{level:3,className:"mb-1 text-gray-900 dark:text-gray-100",children:"Â∏ÇÂú∫Ê¶ÇËßà"}),e.jsx(st,{className:"text-gray-500 dark:text-gray-400",children:"‰∏ªË¶ÅÊåáÊï∞ÂÆûÊó∂Ë°åÊÉÖ"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ke,{lastUpdate:h,nextUpdate:u,isUpdating:o||f,isMarketHours:w}),e.jsx(y,{icon:e.jsx(T,{}),onClick:j,loading:o||f,type:"text",shape:"circle",className:"hover:bg-gray-100 dark:hover:bg-gray-700"})]})]}),e.jsx(Ge,{indices:m||[],loading:o,error:l,onIndexClick:C,onRetry:b})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl shadow-lg border border-white/20 dark:border-gray-700/20 overflow-hidden",children:e.jsx(Je,{funds:re,selectedFunds:t,fundData:d,timeRange:r,onFundSelectionChange:s,onTimeRangeChange:a})}),e.jsx("div",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl shadow-lg border border-white/20 dark:border-gray-700/20 overflow-hidden",children:e.jsx(Ve,{predictions:nt,onActionClick:A})})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("button",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/20 dark:border-gray-700/20 hover:scale-105 transition-transform duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-3",children:e.jsx(ie,{className:"text-2xl text-white"})}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Âü∫ÈáëÂàÜÊûê"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ê∑±Â∫¶ÊäÄÊúØÂàÜÊûê"})]})}),e.jsx("button",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/20 dark:border-gray-700/20 hover:scale-105 transition-transform duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-teal-600 rounded-2xl flex items-center justify-center mx-auto mb-3",children:e.jsx(oe,{className:"text-2xl text-white"})}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Á≠ñÁï•‰ø°Âè∑"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"AI‰∫§ÊòìÂª∫ËÆÆ"})]})}),e.jsx("button",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/20 dark:border-gray-700/20 hover:scale-105 transition-transform duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-3",children:e.jsx(de,{className:"text-2xl text-white"})}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Ê∂àÊÅØÈÄöÁü•"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"ÂÆûÊó∂ÊèêÈÜí"})]})}),e.jsx("button",{className:"bg-white/70 dark:bg-gray-800/70 backdrop-blur-xl rounded-3xl p-6 shadow-lg border border-white/20 dark:border-gray-700/20 hover:scale-105 transition-transform duration-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-3",children:e.jsx(xe,{className:"text-2xl text-white"})}),e.jsx("p",{className:"font-semibold text-gray-900 dark:text-gray-100",children:"Á≥ªÁªüËÆæÁΩÆ"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"‰∏™ÊÄßÂåñÈÖçÁΩÆ"})]})})]})]})};export{xt as default};
//# sourceMappingURL=index-BWqJjz90.js.map
